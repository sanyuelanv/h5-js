/**
 * Created by sanyuelanv on 2015/8/12.
 */
var Rotate=function(g){var a=g.id||-1;var i=g.size||{w:"200",h:"200"};var f=g.pos||{x:"0",y:"0"};var c=g.bg||console.log("缺少参数");var h=g.zhen||console.log("缺少参数");var d=0;var e;this.rotateJS=function(){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var n=null;var m=0;var l=1;function j(p){if(n==null){n=p}var o=p-n;m+=l;e.style.webkitTransform="rotateZ("+m+"deg)";e.style.transform="rotateZ("+m+"deg)";if(o>8000&&d!=0){if(l>3){l-=0.1}else{if(l<=3){if(parseInt(m%360)-d==0){return}if(parseInt((m+1)%360)-d==0){return}if(parseInt((m-1)%360)-d==0){return}}}}else{if(l<13){l+=0.05}}requestAnimationFrame(j)}var k=requestAnimationFrame(j)};this.StopJS=function(j){d=j};this.rotate=function(k,l){var j=7200+l;e.style.webkitTransitionDuration=k+"ms";e.style.webkitTransitionTimingFunction="cubic-bezier(0.3,0,0.3,1)";e.style.webkitTransform="rotate("+j+"deg)";e.style.transitionDuration=k+"ms";e.style.transitionTimingFunction="cubic-bezier(0.3,0,0.3,1)";e.style.transform="rotate("+j+"deg)"};this.reSet=function(){e.style.webkitTransitionDuration="0s";e.style.transitionDuration="0s";e.style.webkitTransform="rotate(0deg)";e.style.transform="rotate(0deg)"};var b={init:function(){b.creatDom()},creatDom:function(){if(a==-1){var p=document.getElementsByTagName("body")[0]}else{var p=document.getElementById(a)}var m="width:"+i.w+"px;height:"+i.h+"px;position:absolute;background-image:url("+c+");overflow:hidden";var l="width:"+i.w+"px;height:"+i.h+"px;position:absolute;background-image:url("+h+");overflow:hidden";var o="<div id='rotate' style="+m+"></div>";var n="<div style="+l+"></div>";var j="width:"+i.w+"px;height:"+i.h+"px;position:absolute;left:"+f.x+"px;top:"+f.y+"px;overflow:hidden";var k="<div style="+j+">"+o+n+"</div>";p.innerHTML=p.innerHTML+k;e=document.getElementById("rotate")}};return b.init()};